<header xmlns:th="http://www.thymeleaf.org" data-th-fragment="frag-entete">
<script type="text/javascript" src="filtres.js"></script>
	<div class="left-box">
		<h1>
			<a href="/">
				<img data-th-src="@{/images/logoENI.png}">
				<span data-th-text="#{nom-application}"></span>
			</a>
		</h1>

		<!-- Pseudo et rôles de l'utilisateur via Spring Security Dialect -->
		<!-- Uniquement si un utilisateur est connecté -->
		<div class="header-card" data-th-if="${#authorization.expression('isAuthenticated()')}">
			<span data-th-text="#{frag-entete.security.pseudo} + ${#authentication.name}"></span>
			<span data-th-text="#{frag-entete.security.roles} + ${#authentication.principal.authorities}"></span>
		</div>

	</div>
	<nav class="nav-box">
		<ul class="nav-list">

			<li  data-th-if="${#authorization.expression('isAuthenticated()')}">
				<a href="/Creer-Article" data-th-text="#{frag-entete.a.creerArticle}"></a>
			</li>
			<li data-th-if="${!#authorization.expression('isAuthenticated()')}">
				<a data-th-href="@{/user/register}" data-th-text="#{frag-entete.a.inscription}"></a>
			</li>
			<li data-th-if="${!#authorization.expression('isAuthenticated()')}">
				<a data-th-href="@{/login}" data-th-text="#{frag-entete.a.connexion}"></a>
			</li>
			<li data-th-if="${#authorization.expression('isAuthenticated()')}">
				<a data-th-href="@{/user/profil}" data-th-text="#{frag-entete.a.profil}"></a>
			</li>
			<li data-th-if="${#authorization.expression('isAuthenticated()')}">
				<a data-th-href="@{/logout}" data-th-text="#{frag-entete.a.deconnexion}"></a>
			</li>
			<!-- Ajout de liens pour filtrer par nom d'article et par catégorie -->
			<li>
				<form method="get" action="/filtrer-par-nom-article">
					<input type="text" name="nomArticle" placeholder="Nom de l'article">
					<button type="submit">Filtrer par nom d'article</button>
				</form>
			</li>
			<li>
				<form method="get" action="/filtrer-par-categorie">
					<input type="text" name="categorie" placeholder="Nom de la catégorie">
					<button type="submit">Filtrer par catégorie</button>
				</form>
			</li>
		</ul>
	</nav>

</header>